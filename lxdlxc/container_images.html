
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Container &amp; Images &#8212; handsOn  Dokumentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Arbeiten mit Containern" href="working_with_containers.html" />
    <link rel="prev" title="Remote-Images" href="remote_images.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Stichwortverzeichnis"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="working_with_containers.html" title="Arbeiten mit Containern"
             accesskey="N">weiter</a> |</li>
        <li class="right" >
          <a href="remote_images.html" title="Remote-Images"
             accesskey="P">zurück</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">handsOn  Dokumentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Linux Container (LXC &amp; LXD)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Container &amp; Images</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="container-images">
<span id="id1"></span><h1>Container &amp; Images<a class="headerlink" href="#container-images" title="Permalink to this heading">¶</a></h1>
<p>Dieser Abschnitt beschäftigt sich mit dem Management der Images und der
Container. Mehr zum Thema siehe auch: <a class="reference external" href="https://insights.ubuntu.com/2016/04/01/lxd-2-0-image-management-512">LXD 2.0: Image management</a></p>
<section id="auflisten-der-container">
<h2>Auflisten der Container<a class="headerlink" href="#auflisten-der-container" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc list
</pre></div>
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>NAME</p></td>
<td><p>STATE</p></td>
<td><p>IPV4</p></td>
<td><p>IPV6</p></td>
<td><p>TYPE</p></td>
<td><p>SNAPSHOTS</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
</section>
<section id="auflisten-der-images">
<h2>Auflisten der Images<a class="headerlink" href="#auflisten-der-images" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image list
</pre></div>
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>ALIAS</p></td>
<td><p>FINGERPRINT</p></td>
<td><p>PUBLIC</p></td>
<td><p>DESCRIPTION</p></td>
<td><p>ARCH</p></td>
<td><p>SIZE</p></td>
<td><p>UPLOAD DATE</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
</section>
<section id="auflisten-remote-images">
<h2>Auflisten Remote Images<a class="headerlink" href="#auflisten-remote-images" title="Permalink to this heading">¶</a></h2>
<p>z.B. von <a class="reference external" href="https://images.linuxcontainers.org">https://images.linuxcontainers.org</a> (s.o):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image list images:
</pre></div>
</div>
<p>Den Doppelpunkt am Ende des Remote-Alias <code class="docutils literal notranslate"><span class="pre">images:</span></code> darf man nicht vergessen,
er zeigt an, dass man sich auf den Remote bezieht. Als Ausgabe erhält man eine
Tabelle wie die folgende:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>ALIAS</p></td>
<td><p>FINGERPRINT</p></td>
<td><p>PUBLIC</p></td>
<td><p>DESCRIPTION</p></td>
<td><p>ARCH</p></td>
<td><p>SIZE</p></td>
<td><p>UPLOAD DATE</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
<tr class="row-odd"><td><p>alpine/edge</p></td>
<td><p>ed1bb9487366</p></td>
<td><p>yes</p></td>
<td><p>Alpine edge</p></td>
<td><p>x86_64</p></td>
<td><p>1.72MB</p></td>
<td><p>Sep 6, 2017</p></td>
</tr>
<tr class="row-even"><td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
<td><p>…</p></td>
</tr>
</tbody>
</table>
<p>Im Folgendem ein paar Beispiele bei denen das <code class="docutils literal notranslate"><span class="pre">alpine/edge</span></code> Image mit dem
Fingerprint <code class="docutils literal notranslate"><span class="pre">ed1bb9487366</span></code> verwendet wird. Ich habe das Image nur deswegen
ausgewählt, weil es sich mit seiner Größe von nur ca. 2MB schnell kopieren
lässt. Getestet hab ich das System in dem Image jedoch nicht und das Beispiel
hier soll auch keine Empfehlung für dieses Image sein.</p>
</section>
<section id="infos-zu-einem-image">
<h2>Infos zu einem Image<a class="headerlink" href="#infos-zu-einem-image" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image info images:alpine/edge
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fingerprint</span><span class="p">:</span> <span class="n">ed1bb94873666a03e9af29d76274134ad9566fab8d90dfe7f9d9e8bc2de12313</span>
<span class="n">Size</span><span class="p">:</span> <span class="mf">1.72</span><span class="n">MB</span>
<span class="n">Architecture</span><span class="p">:</span> <span class="n">x86_64</span>
<span class="n">Public</span><span class="p">:</span> <span class="n">yes</span>
<span class="n">Timestamps</span><span class="p">:</span>
    <span class="n">Created</span><span class="p">:</span> <span class="mi">2017</span><span class="o">/</span><span class="mi">09</span><span class="o">/</span><span class="mi">06</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="n">UTC</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="starten-eines-containers-aus-einem-image">
<h2>Starten eines Containers aus einem Image<a class="headerlink" href="#starten-eines-containers-aus-einem-image" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc launch images:alpine/edge alpine-test
Creating alpine-test
Starting alpine-test
</pre></div>
</div>
<p>und jetzt müsste der Container <code class="docutils literal notranslate"><span class="pre">alpine-test</span></code> in der Liste erscheinen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc list
</pre></div>
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>NAME</p></td>
<td><p>STATE</p></td>
<td><p>IPV4</p></td>
<td><p>IPV6</p></td>
<td><p>TYPE</p></td>
<td><p>SNAPSHOTS</p></td>
</tr>
<tr class="row-even"><td><p>alpine-test</p></td>
<td><p>RUNNING</p></td>
<td><p>10.20.203.71 (eth0)</p></td>
<td></td>
<td><p>PERSISTENT</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="stoppen-eines-containers">
<h2>Stoppen eines Containers<a class="headerlink" href="#stoppen-eines-containers" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc stop alpine-test
</pre></div>
</div>
</section>
<section id="loschen-eines-containers">
<h2>Löschen eines Containers<a class="headerlink" href="#loschen-eines-containers" title="Permalink to this heading">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc delete alpine-test
</pre></div>
</div>
</section>
<section id="anzeigen-der-lokalen-images">
<h2>Anzeigen der lokalen Images<a class="headerlink" href="#anzeigen-der-lokalen-images" title="Permalink to this heading">¶</a></h2>
<p>Beim Starten des Containers mit <code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">launch</span> <span class="pre">images:alpine/edge</span></code> wurde das
Image mit dem Fingerprint <code class="docutils literal notranslate"><span class="pre">ed1bb9487366</span></code> vom Remote <code class="docutils literal notranslate"><span class="pre">images:</span></code> geclonet und
in das lokale LXD kopiert.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image list
</pre></div>
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>ALIAS</p></td>
<td><p>FINGERPRINT</p></td>
<td><p>PUBLIC</p></td>
<td><p>DESCRIPTION</p></td>
<td><p>ARCH</p></td>
<td><p>SIZE</p></td>
<td><p>UPLOAD DATE</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>ed1bb9487366</p></td>
<td><p>no</p></td>
<td><p>Alpine edge …</p></td>
<td><p>x86_64</p></td>
<td><p>1.72MB</p></td>
<td><p>Sep 7, 2017 at 4:03pm (UTC)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="alias-namen-fur-images">
<h2>Alias Namen für Images<a class="headerlink" href="#alias-namen-fur-images" title="Permalink to this heading">¶</a></h2>
<p>Ein Image kann über seinen <em>Fingerprint</em> adressiert werden, alternativ können
aber auch noch Alias-Namen vergeben werden (Image-Alias):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image alias create alpine-edge ed1bb9487366
</pre></div>
</div>
<p>Es können mehrere Alias-Namen vergeben werden. Über welche Alias-Namen ein
<code class="docutils literal notranslate"><span class="pre">FINGERPRINT</span></code> verfügt kann man sich z.B. mit <code class="docutils literal notranslate"><span class="pre">image</span> <span class="pre">info</span></code> anzeigen lassen.
Im folgendem Beispiel wird eines der <a class="reference internal" href="remote_images.html#lxc-remote-images"><span class="std std-ref">Remote Images</span></a>
vom <code class="docutils literal notranslate"><span class="pre">ubuntu</span></code> Image-Server mit den <a class="reference external" href="https://cloud-images.ubuntu.com/releases">Ubuntu Cloud Images</a> abgefragt:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image info images:ubuntu/artful
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Fingerprint</span><span class="p">:</span> <span class="mi">3</span><span class="n">fa086e1908dec89f46b9ff34283032419abc3c42c9791be81efa4aa01a29768</span>
<span class="n">Size</span><span class="p">:</span> <span class="mf">92.70</span><span class="n">MB</span>
<span class="n">Architecture</span><span class="p">:</span> <span class="n">x86_64</span>
<span class="n">Public</span><span class="p">:</span> <span class="n">yes</span>
<span class="n">Timestamps</span><span class="p">:</span>
  <span class="n">Created</span><span class="p">:</span> <span class="mi">2017</span><span class="o">/</span><span class="mi">09</span><span class="o">/</span><span class="mi">08</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="n">UTC</span>
  <span class="n">Uploaded</span><span class="p">:</span> <span class="mi">2017</span><span class="o">/</span><span class="mi">09</span><span class="o">/</span><span class="mi">08</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="n">UTC</span>
  <span class="n">Expires</span><span class="p">:</span> <span class="n">never</span>
  <span class="n">Last</span> <span class="n">used</span><span class="p">:</span> <span class="n">never</span>
<span class="n">Properties</span><span class="p">:</span>
  <span class="n">serial</span><span class="p">:</span> <span class="mi">20170908_03</span><span class="p">:</span><span class="mi">49</span>
  <span class="n">description</span><span class="p">:</span> <span class="n">Ubuntu</span> <span class="n">artful</span> <span class="n">amd64</span> <span class="p">(</span><span class="mi">20170908_03</span><span class="p">:</span><span class="mi">49</span><span class="p">)</span>
  <span class="n">os</span><span class="p">:</span> <span class="n">Ubuntu</span>
  <span class="n">release</span><span class="p">:</span> <span class="n">artful</span>
  <span class="n">architecture</span><span class="p">:</span> <span class="n">amd64</span>
<span class="n">Aliases</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">ubuntu</span><span class="o">/</span><span class="n">artful</span><span class="o">/</span><span class="n">default</span>
  <span class="o">-</span> <span class="n">ubuntu</span><span class="o">/</span><span class="n">artful</span><span class="o">/</span><span class="n">default</span><span class="o">/</span><span class="n">amd64</span>
  <span class="o">-</span> <span class="n">ubuntu</span><span class="o">/</span><span class="n">artful</span>
  <span class="o">-</span> <span class="n">ubuntu</span><span class="o">/</span><span class="n">artful</span><span class="o">/</span><span class="n">amd64</span>
<span class="n">Auto</span> <span class="n">update</span><span class="p">:</span> <span class="n">disabled</span>
</pre></div>
</div>
<p>Es ist auch möglich die Alias-Namen der Images des lokalen Image-Severs
anzuzeigen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image alias list
+---------+--------------+-------------+
|  ALIAS  | FINGERPRINT  | DESCRIPTION |
+---------+--------------+-------------+
| ubu1710 | 3fa086e1908d | ubu1710     |
+---------+--------------+-------------+
</pre></div>
</div>
<p>Letzteres listet die Alias-Namen des lokalen Image-Servers, für einen Remote ist
die Abfrage analog mit <em>Name + Doppelpunkt</em> am Ende:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image alias list ubuntu:
</pre></div>
</div>
</section>
<section id="loschen-eines-images">
<h2>Löschen eines Images<a class="headerlink" href="#loschen-eines-images" title="Permalink to this heading">¶</a></h2>
<p>Das zu löschende Image kann über seinen Namen (Image-Alias) oder explizit über
seinen Fingerprint adressiert werden:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image delete ed1bb9487366
</pre></div>
</div>
</section>
<section id="import-image-von-remote">
<span id="lxc-import-image"></span><h2>Import Image von Remote<a class="headerlink" href="#import-image-von-remote" title="Permalink to this heading">¶</a></h2>
<p>Importieren (pull) eines Image von einem anderem Image-Server:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image copy images:ubuntu/artful local: --alias ubu1710
</pre></div>
</div>
<p>Anschließend müsste das Image <code class="docutils literal notranslate"><span class="pre">ubu1710</span></code> in der Liste der lokalen Images
auftauchen:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image alias list
</pre></div>
</div>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>ALIAS</p></td>
<td><p>FINGERPRINT</p></td>
<td><p>DESCRIPTION</p></td>
</tr>
<tr class="row-even"><td><p>ubu1710</p></td>
<td><p>3fa086e1908d</p></td>
<td><p>ubu1710</p></td>
</tr>
</tbody>
</table>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/darmarIT_logo_128.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Container &amp; Images</a><ul>
<li><a class="reference internal" href="#auflisten-der-container">Auflisten der Container</a></li>
<li><a class="reference internal" href="#auflisten-der-images">Auflisten der Images</a></li>
<li><a class="reference internal" href="#auflisten-remote-images">Auflisten Remote Images</a></li>
<li><a class="reference internal" href="#infos-zu-einem-image">Infos zu einem Image</a></li>
<li><a class="reference internal" href="#starten-eines-containers-aus-einem-image">Starten eines Containers aus einem Image</a></li>
<li><a class="reference internal" href="#stoppen-eines-containers">Stoppen eines Containers</a></li>
<li><a class="reference internal" href="#loschen-eines-containers">Löschen eines Containers</a></li>
<li><a class="reference internal" href="#anzeigen-der-lokalen-images">Anzeigen der lokalen Images</a></li>
<li><a class="reference internal" href="#alias-namen-fur-images">Alias Namen für Images</a></li>
<li><a class="reference internal" href="#loschen-eines-images">Löschen eines Images</a></li>
<li><a class="reference internal" href="#import-image-von-remote">Import Image von Remote</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
      <li><a href="index.html">Linux Container (LXC &amp; LXD)</a>
        <ul>
          <li>Previous: <a href="remote_images.html" title="vorheriges Kapitel">Remote-Images</a>
          <li>Next: <a href="working_with_containers.html" title="nächstes Kapitel">Arbeiten mit Containern</a></ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 Markus Heiser.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>