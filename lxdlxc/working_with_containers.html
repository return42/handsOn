
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Arbeiten mit Containern &#8212; handsOn  Dokumentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Docker" href="../docker/index.html" />
    <link rel="prev" title="Container &amp; Images" href="container_images.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Stichwortverzeichnis"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../docker/index.html" title="Docker"
             accesskey="N">weiter</a> |</li>
        <li class="right" >
          <a href="container_images.html" title="Container &amp; Images"
             accesskey="P">zurück</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">handsOn  Dokumentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Linux Container (LXC &amp; LXD)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Arbeiten mit Containern</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="arbeiten-mit-containern">
<span id="working-with-containers"></span><h1>Arbeiten mit Containern<a class="headerlink" href="#arbeiten-mit-containern" title="Permalink to this heading">¶</a></h1>
<p>Mit LXD lassen sich die Images und Container sehr gut managen und Images die
einmal von einem Remote kopiert wurden stehen lokal zur Verfügung solange man
sie nicht explizit löscht. Durch die Bereitstellung öffentlicher Image-Server
lassen sich Systeme mit minimalem Aufwand in die Container installieren und in
Betrieb nehmen. Z.B. das Starten eines Containers aus einem Image das von einem
Remote Image-Server stammt, benötigt nur eine Zeile:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc launch images:ubuntu/artful ubu1704
</pre></div>
</div>
<p>Will man lediglich den Container einrichten und nicht gleich starten, so
reicht:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc init images:ubuntu/artful
</pre></div>
</div>
<p>Zum Vergleich; will man nur (schon mal) das Image in den lokalen Image-Server
kopieren (clonen) ohne einen Container einzurichten, so würde man dies wie folgt
machen (<a class="reference internal" href="container_images.html#lxc-import-image"><span class="std std-ref">Import Image von Remote</span></a>):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ lxc image copy images:ubuntu/artful local: --alias ubu1710
</pre></div>
</div>
<p>Zum Starten, Stoppen und Pausieren der Container existieren folgende Kommandos:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">start</span>&#160;&#160; <span class="pre">[&lt;remote&gt;:]&lt;container&gt;</span> <span class="pre">[[&lt;remote&gt;:]&lt;container&gt;...]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">stop</span>&#160;&#160;&#160; <span class="pre">[&lt;remote&gt;:]&lt;container&gt;</span> <span class="pre">[[&lt;remote&gt;:]&lt;container&gt;...]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">restart</span> <span class="pre">[&lt;remote&gt;:]&lt;container&gt;</span> <span class="pre">[[&lt;remote&gt;:]&lt;container&gt;...]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">pause</span>&#160;&#160; <span class="pre">[&lt;remote&gt;:]&lt;container&gt;</span> <span class="pre">[[&lt;remote&gt;:]&lt;container&gt;...]</span></code></p></li>
</ul>
<p>Sollte der Container mal auf ein <code class="docutils literal notranslate"><span class="pre">stop</span></code> nicht reagieren, kann mit der Option
<code class="docutils literal notranslate"><span class="pre">--force</span></code> ein Stop des Containers erzwungen werden.  Die anderen Kommandos
haben auch Optionen (<code class="docutils literal notranslate"><span class="pre">lxc</span> <span class="pre">&lt;command&gt;</span> <span class="pre">--help</span></code>).</p>
<p>Beispiele:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">lxc</span> <span class="n">remote</span> <span class="nb">list</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="nb">list</span> <span class="n">images</span><span class="p">:</span><span class="n">ubuntu</span><span class="o">/</span><span class="mf">18.04</span>

<span class="c1"># mal auf die Image-größen achten ...</span>

<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">info</span> <span class="n">images</span><span class="p">:</span><span class="n">ubuntu</span><span class="o">/</span><span class="mf">18.04</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">info</span> <span class="n">ubuntu</span><span class="p">:</span><span class="mf">18.04</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">info</span> <span class="n">ubuntu</span><span class="o">-</span><span class="n">minimal</span><span class="p">:</span><span class="mf">18.04</span>

<span class="c1"># Ein paar Images von den Remotes nach &#39;local:&#39; kopieren</span>

<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">copy</span> <span class="n">ubuntu</span><span class="o">-</span><span class="n">minimal</span><span class="p">:</span><span class="mf">18.04</span> <span class="n">local</span><span class="p">:</span> <span class="o">--</span><span class="n">alias</span> <span class="n">ubu1804</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">copy</span> <span class="n">ubuntu</span><span class="o">-</span><span class="n">minimal</span><span class="p">:</span><span class="mf">19.10</span> <span class="n">local</span><span class="p">:</span> <span class="o">--</span><span class="n">alias</span> <span class="n">ubu1910</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">copy</span> <span class="n">images</span><span class="p">:</span><span class="n">archlinux</span> <span class="n">local</span><span class="p">:</span> <span class="o">--</span><span class="n">alias</span> <span class="n">archlinux</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">image</span> <span class="n">copy</span> <span class="n">images</span><span class="p">:</span><span class="n">fedora</span><span class="o">/</span><span class="mi">31</span> <span class="n">local</span><span class="p">:</span> <span class="o">--</span><span class="n">alias</span> <span class="n">fedora31</span>

<span class="c1"># exportieren (*.tar.xz)</span>
<span class="n">lxc</span> <span class="n">image</span> <span class="n">export</span> <span class="n">old</span><span class="o">-</span><span class="n">ubuntu</span> <span class="o">.</span>

<span class="c1"># importieren</span>
<span class="n">lxc</span> <span class="n">image</span> <span class="kn">import</span> <span class="o">&lt;</span><span class="n">tarball</span><span class="o">&gt;</span> <span class="o">--</span><span class="n">alias</span> <span class="n">random</span><span class="o">-</span><span class="n">image</span>

<span class="c1"># image anlegen und starten ...</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">launch</span> <span class="n">local</span><span class="p">:</span><span class="n">ubu1804</span> <span class="n">test</span><span class="o">-</span><span class="n">host</span><span class="o">-</span><span class="mi">1</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">launch</span> <span class="n">local</span><span class="p">:</span><span class="n">ubu1804</span> <span class="n">searx</span><span class="o">-</span><span class="n">test</span> <span class="o">&lt;</span> <span class="n">searx</span><span class="o">.</span><span class="n">yaml</span>

<span class="c1"># Wenn das image nur angelegt werden soll:</span>
<span class="n">sudo</span> <span class="n">lxc</span> <span class="n">init</span> <span class="n">local</span><span class="p">:</span><span class="n">ubu1804</span> <span class="n">searx</span><span class="o">-</span><span class="n">test</span> <span class="o">&lt;</span> <span class="n">searx</span><span class="o">.</span><span class="n">yaml</span>
</pre></div>
</div>
<section id="todo">
<h2>ToDo<a class="headerlink" href="#todo" title="Permalink to this heading">¶</a></h2>
<p>Dieser Artikel befindet sich noch im Aufbau. Folgende Themen sollten noch
behandelt werden:</p>
<ul class="simple">
<li><p>LXC Configuration profiles
(<a class="reference external" href="https://github.com/lxc/lxd/blob/master/doc/configuration.md">https://github.com/lxc/lxd/blob/master/doc/configuration.md</a>)</p></li>
<li><p>Executing commands</p></li>
<li><p>Managing files: Because LXD has direct access to the container’s file system,
it can directly read and write any file inside the container. This can be very
useful to pull log files or exchange files with the container.</p></li>
<li><p>Editing a file directory</p></li>
</ul>
<p>Hier: <a class="reference external" href="https://insights.ubuntu.com/2016/03/22/lxd-2-0-your-first-lxd-container/">https://insights.ubuntu.com/2016/03/22/lxd-2-0-your-first-lxd-container/</a>
steht auch noch was dazu</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/darmarIT_logo_128.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Arbeiten mit Containern</a><ul>
<li><a class="reference internal" href="#todo">ToDo</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
      <li><a href="index.html">Linux Container (LXC &amp; LXD)</a>
        <ul>
          <li>Previous: <a href="container_images.html" title="vorheriges Kapitel">Container &amp; Images</a>
          <li>Next: <a href="../docker/index.html" title="nächstes Kapitel">Docker</a></ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 Markus Heiser.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>