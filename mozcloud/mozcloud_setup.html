
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Allgemeines zum Setup &#8212; handsOn  Dokumentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Sync-1.5 Server mit public accounts" href="fxsync_1_5_server.html" />
    <link rel="prev" title="Mozilla Cloud Services" href="mozcloud_services.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Stichwortverzeichnis"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="fxsync_1_5_server.html" title="Sync-1.5 Server mit public accounts"
             accesskey="N">weiter</a> |</li>
        <li class="right" >
          <a href="mozcloud_services.html" title="Mozilla Cloud Services"
             accesskey="P">zurück</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">handsOn  Dokumentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">Setup Mozilla Dienste</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Allgemeines zum Setup</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="allgemeines-zum-setup">
<span id="xref-mozcloud-setup"></span><h1>Allgemeines zum Setup<a class="headerlink" href="#allgemeines-zum-setup" title="Permalink to this heading">¶</a></h1>
<p>Beim Einrichten der Mozilla Dienste, empfiehlt es sich darauf zu achten, die
Dienste stark gegen das OS (auf dem sie installiert werden) zu isolieren.
Motivation sollte sein, die einfache Skallierbarkeit aufrecht zu erhalten und
den Dienst möglichst gut abzusichern bzw. zu isolieren. Letzteres ist um so
wichtiger, wenn man den Dienst <em>public</em> ins Internet stellen will.</p>
<p>Die Sourcen und Erläuterungen die von Mozilla zur Verfügung gestellt werden,
richten im einfachsten Setup i.d.R. eine Entwicklerumgebung ein. Zu dieser
Entwicklerumgebung, gehören meist ein kleiner ungesicherter WEB-Server, der auf
gesonderten Ports <em>lauscht</em>. Diese Entwicklerumgebungen sind für einen Test der
Installation meist recht hilfreich, sie eignen sich jedoch nicht dafür, ins
Internet gestellt zu werden. Hierfür sollten die Dienste hinter seinem SSL
signierten WEB-Server stehen, den man im Internet betreibt (z.B. hinter seinem
Apache WEB Server wie aus dem Abschnitt <a class="reference internal" href="../apache_setup/index.html#xref-apache-setup"><span class="std std-ref">Setup Apache2 HTTP Server</span></a>).</p>
<p>Die Installation und der produktive Betrieb der Dienste sollte unter einen
gesonderten System-Benutzer erfolgen.</p>
<ul class="simple">
<li><p>isolierter System-Benutzer für die Cloud Dienste (z.B.): <code class="docutils literal notranslate"><span class="pre">mozcloud</span></code></p></li>
<li><p>Installation unter dem Systemaccount (z.B.): <code class="docutils literal notranslate"><span class="pre">/home/mozcloud/&lt;servicename&gt;</span></code></p></li>
</ul>
<p>Einrichten des System-Benutzers (<code class="docutils literal notranslate"><span class="pre">mozcloud</span></code>):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>-H<span class="w"> </span>adduser<span class="w"> </span>--system<span class="w"> </span>--disabled-password<span class="w"> </span>--disabled-login<span class="w"> </span><span class="se">\</span>
<span class="w">               </span>--shell<span class="w"> </span>/bin/bash<span class="w"> </span><span class="se">\</span>
<span class="w">               </span>--gecos<span class="w"> </span><span class="s2">&quot;Mozilla Cloud&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">               </span>mozcloud
</pre></div>
</div>
<p>Wechseln zum System-Benutzer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>sudo<span class="w"> </span>-i<span class="w"> </span>-u<span class="w"> </span>mozcloud
</pre></div>
</div>
<p>Clonen der Sourcen (z.B. Firefox Sync-1.5 Server) in den Home Ordner des
System-Benutzer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~
$<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/mozilla-services/syncserver
</pre></div>
</div>
<p>Hier im Ordner <code class="docutils literal notranslate"><span class="pre">/home/mozcloud/&lt;servicename&gt;</span></code>, also im HOME-Ordner des
System-Benutzer <code class="docutils literal notranslate"><span class="pre">mozcloud</span></code> würde man den Dienst installieren und testen.  Hat
man seine Tests beendet und will die ganze Cloud-Umgebung wieder von seinem
(Entwicklerrechner) eliminieren, dann reicht es aus den System-Benutzer der
Cloud zu löschen.  Bevor der Benutzer entfernt werden kann, müssen alle seine
Prozesse beendet werden. Läuft das WEB-Interface im Apache, muss also die
entsprechende Apache-Site mit der Konfiguration zu diesem Dienst (zu diesem
Account) deaktiviert werden (inkl. apache reload).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>deluser<span class="w"> </span>--remove-home<span class="w"> </span>mozcloud
</pre></div>
</div>
<div class="admonition caution">
<p class="admonition-title">Vorsicht</p>
<p>Auf diese Weise wird die gesammte Cloud Installation, sammt aller
Konfigurationen auf dem Host <strong>UNWIEDERUFLICH</strong> gelöscht.</p>
</div>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/darmarIT_logo_128.png" alt="Logo"/>
            </a></p>
  
<h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
      <li><a href="index.html">Setup Mozilla Dienste</a>
        <ul>
          <li>Previous: <a href="mozcloud_services.html" title="vorheriges Kapitel">Mozilla Cloud Services</a>
          <li>Next: <a href="fxsync_1_5_server.html" title="nächstes Kapitel">Sync-1.5 Server mit public accounts</a></ul>
      </li>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 Markus Heiser.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>