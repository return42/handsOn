
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Citrix Workspace App &#8212; handsOn  Dokumentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="../genindex.html" />
    <link rel="search" title="Suche" href="../search.html" />
    <link rel="next" title="Oracle (developer)" href="../oracle/index.html" />
    <link rel="prev" title="Docker" href="../docker/index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="Stichwortverzeichnis"
             accesskey="I">Index</a></li>
        <li class="right" >
          <a href="../oracle/index.html" title="Oracle (developer)"
             accesskey="N">weiter</a> |</li>
        <li class="right" >
          <a href="../docker/index.html" title="Docker"
             accesskey="P">zurück</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">handsOn  Dokumentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Citrix Workspace App</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="citrix-workspace-app">
<span id="xref-citrix"></span><h1>Citrix Workspace App<a class="headerlink" href="#citrix-workspace-app" title="Permalink to this heading">¶</a></h1>
<div class="admonition hint">
<p class="admonition-title">Hinweis</p>
<p><strong>Update 3. Feb. 2020</strong>: Der <a class="reference external" href="https://en.wikipedia.org/wiki/Citrix_Receiver">Citrix Receiver (wiki)</a> – aka. <em>ICA Client</em>
– heißt seit geraumer Zeit <em>Citrix Workspace App</em>.</p>
</div>
<p>Die <em>Citrix Workspace App</em> gehört zur Gruppe der <a class="reference external" href="https://de.wikipedia.org/wiki/Virtual_Desktop_Infrastructure">Virtual Desktop
Infrastructure</a> Lösungen.  Die Idee ist es den Desktop eines Mitarbeiters
komplett zu virtualisieren und lokale als auch Remote-Komponenten auf dem
lokalen Desktop zu integrieren.  Der Mitarbeiter arbeitet auf seinem lokalem
Desktop und Apps, die nur Remote zur Verfügung stehen werden in seinen lokalen
Desktop integriert.  Die Idee ist an sich ganz gut und auch unter Schlagwörtern
wie Thin-Client bekannt, sie wirft aber auch neue Fragen auf, da Remote-Apps und
Local-Apps u.U. in unterschiedlichen Subnetzen laufen und der Remote-Host, je
nach Integrationstiefe einen <em>ändernden</em> Zugriff auf lokale Komponenten
benötigt, was u.U. ein erhebliches Sicherheitsrisiko (auch für den Client)
darstellen kann.</p>
<section id="neu-citrix-workspace-app">
<h2>NEU: Citrix Workspace App<a class="headerlink" href="#neu-citrix-workspace-app" title="Permalink to this heading">¶</a></h2>
<aside class="sidebar">
<p class="sidebar-title">Weiterführendes</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.citrix.com/en-us/citrix-workspace-app-for-linux">Citrix Workspace app</a></p></li>
<li><p><a class="reference external" href="https://docs.citrix.com/en-us/citrix-workspace-app-for-linux/system-requirements.html">Prerequisites to install Citrix Workspace app</a></p></li>
<li><p><a class="reference external" href="https://www.citrix.com/downloads/workspace-app/linux/workspace-app-for-linux-latest.html">Download Seite Citrix Workspace app for Linux</a></p></li>
<li><p><a class="reference external" href="https://www.citrix.com/content/dam/citrix/en_us/documents/data-sheet/citrix-workspace-app-feature-matrix.pdf">Feature Matrix</a></p></li>
<li><p><a class="reference external" href="https://docs.citrix.com/">Citrix Doc-Portal</a></p></li>
</ul>
</aside>
<p>Ein aktuelles Debian Paket kann auf der <a class="reference external" href="https://www.citrix.com/downloads/workspace-app/linux/workspace-app-for-linux-latest.html">Download Seite Citrix Workspace app for
Linux</a> heruntergeladen werden.  Auf das <code class="docutils literal notranslate"><span class="pre">.deb</span></code> Paket macht man einen
Doppelklick und installiert das Paket.  <em>Alter Wein in neuen Schläuchen:</em> Das
Debian Paket installiert die <em>Citrix Workspace App</em> in den Ordner
<code class="docutils literal notranslate"><span class="pre">/opt/Citrix/ICAClient/</span></code> weshalb wir auf <em>technischer Ebene</em> weiterhin vom
<em>ICA Client</em> reden werden.</p>
<p>Wie gehabt, wird man auch bei dem neuen <em>ICA Client</em> ohne die Zertifikate aus
dem Firefox meist nur Fehlermeldungen bekommen, die darauf hinweisen, dass das
Zertifikat des remote Servers ungültig sei.  Die Lösung ist analog der
Beschreibung <a class="reference internal" href="#alt-citrix-receiver">ALT: Citrix Receiver</a>, abgesehen von einer kleinen Feinheit: man
beachte das <code class="docutils literal notranslate"><span class="pre">*</span></code> im symbolischen Link unten (<em>Dank geht an Robert!</em>).</p>
<p>Die Zertifikate aus dem Mozilla werden verlinkt und anschließend in der <strong>Citrix
Workspace App</strong> (aka <code class="docutils literal notranslate"><span class="pre">ICAClient</span></code>) registriert.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">ca</span><span class="o">-</span><span class="n">certificates</span><span class="o">/</span><span class="n">mozilla</span><span class="o">/*</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Citrix</span><span class="o">/</span><span class="n">ICAClient</span><span class="o">/</span><span class="n">keystore</span><span class="o">/</span><span class="n">cacerts</span><span class="o">/</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Citrix</span><span class="o">/</span><span class="n">ICAClient</span><span class="o">/</span><span class="n">util</span><span class="o">/</span><span class="n">ctx_rehash</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Im Default ist die <a class="reference external" href="https://getadmx.com/?Category=Citrix_Receiver&amp;Policy=receiver.Policies.receiver::Policy_EnableDriveMapping&amp;Language=de-de">Clientlaufwerkzuordnung</a> so eingestellt, dass der Remote
Host die Dateien und Ordner auf dem lokalen PC ändern oder löschen kann
(<a class="reference internal" href="#konfiguration">Konfiguration</a>).  Eine ideale Möglichkeit für Viren auch den lokalen PC zu
infizieren!!!</p>
</div>
</section>
<section id="konfiguration">
<h2>Konfiguration<a class="headerlink" href="#konfiguration" title="Permalink to this heading">¶</a></h2>
<aside class="sidebar">
<p class="sidebar-title">Weiterführendes</p>
<ul class="simple">
<li><p><a class="reference external" href="https://docs.citrix.com/en-us/citrix-workspace-app-for-linux/configure-xenapp.html">Configure</a></p></li>
<li><p><a class="reference external" href="https://getadmx.com/?Category=Citrix_Receiver&amp;Policy=receiver.Policies.receiver::Policy_EnableDriveMapping&amp;Language=de-de">Clientlaufwerkzuordnung</a></p></li>
</ul>
</aside>
<p>Die <em>ICA Client</em> Konfiguration befindet sich unter Windows in der <em>Registry</em>,
auf den Linux PCs ist es etwas einfacher, dort findet man die Konfiguration in
der INI-Datei <code class="docutils literal notranslate"><span class="pre">~/.ICAClient/wfclient.ini</span></code>.  Die Namen der Schalter sind aber
die gleichen, egal ob nun in der <em>Registry</em> oder in der INI-Datei.  Existiert
die Datei beim Anwender noch nicht wird sie aus der Vorlage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Citrix</span><span class="o">/</span><span class="n">ICAClient</span><span class="o">/</span><span class="n">config</span><span class="o">/</span><span class="n">wfclient</span><span class="o">.</span><span class="n">template</span>
</pre></div>
</div>
<p>erzeugt.  Als Admin sollte man die Vorlage entsprechend anpassen.  Etwas
verwirrend ist, dass der Pfad nur ein Link ist, der in einen Ordner in
Abhängigkeit von der <em>Landessprache</em> verweist.  Die <em>Landessprache</em> wird bei der
Installation ermittelt und hängt von der Umgebungsvariablen <code class="docutils literal notranslate"><span class="pre">LANG</span></code> ab, die der
Admin bei der Installation hatte .. warum? .. das fragt man besser Citrix.  Wie
auch immer, es kann also mehrere Vorlagen geben, die man ggf. anpassen möchte:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Citrix</span><span class="o">/</span><span class="n">ICAClient</span><span class="o">/</span><span class="n">nls</span><span class="o">/&lt;</span><span class="n">lang</span><span class="o">&gt;/</span><span class="n">wfclient</span><span class="o">.</span><span class="n">template</span>
</pre></div>
</div>
<p>Hier ein Vorschlag wie man die Werte setzen sollte (Beschreibung der Optionen
siehe unten):</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[WFClient]</span>
<span class="na">...</span>
<span class="na">CDMAllowed</span><span class="o">=</span><span class="s">Off</span>
<span class="c1">; CDMReadOnly=On</span>
<span class="na">CREnabled</span><span class="o">=</span><span class="s">False</span>
<span class="na">CientPrinterQueue</span><span class="o">=</span><span class="s">Off</span>
<span class="na">ClientManagement</span><span class="o">=</span><span class="s">Off</span>
<span class="na">ClientComm</span><span class="o">=</span><span class="s">Off</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">CDMAllowed</span></code></dt><dd><p>Die <a class="reference external" href="https://getadmx.com/?Category=Citrix_Receiver&amp;Policy=receiver.Policies.receiver::Policy_EnableDriveMapping&amp;Language=de-de">Clientlaufwerkzuordnung</a> erfolgt über die Einstellung <code class="docutils literal notranslate"><span class="pre">CDMAllowed</span></code>, die
<strong>im Default auf</strong> <code class="docutils literal notranslate"><span class="pre">On</span></code>.  <strong>Unbedingt abschalten</strong>:  <code class="docutils literal notranslate"><span class="pre">Off</span></code></p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CDMReadOnly</span></code></dt><dd><p>Dem Remote Host kann alternativ ein <em>read-only</em> Recht auf die lokalen Dateien
gewährt werden.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ClientManagement</span></code></dt><dd><p>Leider kann man bei Citrix oder sonst wo im Internet zu dem Schalter keine
Beschreibung finden.  Ich hab ihn einfach auf <code class="docutils literal notranslate"><span class="pre">Off</span></code> gestellt und konnte bei
meinen Anwendungen keine Einschränkungen feststellen.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ClientComm</span></code></dt><dd><p>Auch hierzu konnte ich keine Referenz finden, aber wenn ich das recht sehe
kann damit der Serielle Port an den Remote weitergeleitet werden.  Ich konnte
keine Einschränkungen bei Abschaltung feststellen.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">CREnabled</span></code></dt><dd><p>Schaltet die <a class="reference external" href="https://docs.citrix.com/en-us/citrix-workspace-app-for-linux/configure-xenapp.html#server-client-content-redirection">Server-client content redirection</a> ein resp. aus.  Damit werden
dann URLs, die man in der Remote App öffnet lokal geöffnet.  Ob dieses Feature
genutzt werden kann, legt der Remote-Server fest.  Die Idee dahinter ist es,
den Content, der auch direkt vom Client im Internet erreicht werden kann auch
direkt auf dem Client aufzurufen, anstatt alles erst über den Remote laufen zu
lassen.  Die folgenden URLs (Protokolle) können umgeleitet werden:</p>
<ul class="simple">
<li><p>HTTP (Hypertext Transfer Protocol)</p></li>
<li><p>HTTPS (Secure Hypertext Transfer Protocol)</p></li>
<li><p>RTSP (Real Player)</p></li>
<li><p>RTSPU (Real Player)</p></li>
<li><p>PNM (Older Real Players)</p></li>
</ul>
<p>Ob das Feature für den Anwender nützlich oder eher verwirrend ist hängt
sicherlich vom Anwendungsfeld ab: Client und der Server stehen i.d.R. in zwei
unterschiedlichen Subnetzen und es kann sein, dass bestimmte (WEB) Anwendungen
dann gar nicht mehr funktionieren.</p>
</dd>
</dl>
</section>
<section id="alt-citrix-receiver">
<h2>ALT: Citrix Receiver<a class="headerlink" href="#alt-citrix-receiver" title="Permalink to this heading">¶</a></h2>
<aside class="sidebar">
<p class="sidebar-title">alt &amp; neu</p>
<p>Da die Probleme eigentlich die gleichen sind, hier noch der <em>historische</em>
Text dazu.</p>
</aside>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Citrix_Receiver">Citrix Receiver (wiki)</a> – aka. ICA Client – ist der Client zu XenDesktop und
XenApp. Der Client wird für diverse Plattformen bereit gestellt, unter anderem
Windows, Linux und Android.</p>
<ul class="simple">
<li><p>Download siehe <a class="reference external" href="https://www.citrix.com/products/receiver/">Citrix Receiver</a></p></li>
</ul>
<p>Der Windows Installer scheint soweit OK, bei Linux gibt es seit gefühlten 100
Jahren immer wieder irgendwelche Probleme, siehe auch <a class="reference external" href="https://wiki.ubuntu.com/Enterprise/Remote/CitrixReceiver">Citrix Receiver
(ubuntu)</a>.  Grundsätzlich kann man den Client aber auch unter Linux
installieren und nutzen.  In alten Versionen musste man noch mit den i386 und
amd64 Bibliotheken jonglieren (<a class="reference external" href="https://help.ubuntu.com/community/CitrixICAClientHowTo">Citrix ICA Client HowTo</a>), das ist heute nicht
mehr erforderlich.  Inzwischen – aktuell Ubuntu-18.04 und Citrix-Receiver 13.10
– scheinen nur ein paar Zertifikate zu fehlen um eine Verbindung aufzubauen.</p>
<p>Ich nutze/installiere lediglich das <em>Web Receiver only</em> deb-Paket, aktuell z.B.:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://www.citrix.com/downloads/citrix-receiver/linux/receiver-for-linux-latest.html">icaclientWeb_13.10.0.20_amd64.deb</a></p></li>
</ul>
<p>Das Paket kann man via Doppelklick oder eben auch via Kommandozeile
installieren:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ sudo -H dpkg -i icaclientWeb_13.10.0.20_amd64.deb
</pre></div>
</div>
<p>Im Web-Browser baut man dann initial die Verbindung auf und meldet sich an der
XenDesktop Infrastruktur an.  Nach der Anmeldung kann man dann die zur Verfügung
stehenden Apps und Desktops im WEB-Browser anklicken.  Dabei wird eine <code class="docutils literal notranslate"><span class="pre">.ica</span></code>
Datei runter geladen und im Citrix Receiver geöffnet.  Bei der Installation
wurde der Mime-Type registriert:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ xdg-mime query filetype UkFHLlhlbkRlc2t0b3AgSVQtRGV2ZWxvcGVyICRQNDM5.ica
application/x-ica
$ xdg-mime query default application/x-ica
wfica.desktop
</pre></div>
</div>
<p>Öffnet man eine solche <code class="docutils literal notranslate"><span class="pre">.ica</span></code> Datei, dann bekommt man (linux) eine ziemlich
irreführende Fehlermeldung:</p>
<figure class="align-default" id="id2">
<img alt="../_images/citrix-receiver-error-dialog.png" src="../_images/citrix-receiver-error-dialog.png" />
<figcaption>
<p><span class="caption-text">Irreführende Fehlermeldung bei fehlenden Zertifikaten</span><a class="headerlink" href="#id2" title="Link zu diesem Bild">¶</a></p>
</figcaption>
</figure>
<p>Das eigentliche Problem ist aber, dass dem Citrix-Client die gängigen
Zertifikate fehlen.  Diese kann man mit folgenden Zeilen einfach aus der FFox
Installation verlinken.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">ln</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">ca</span><span class="o">-</span><span class="n">certificates</span><span class="o">/</span><span class="n">mozilla</span><span class="o">/</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Citrix</span><span class="o">/</span><span class="n">ICAClient</span><span class="o">/</span><span class="n">keystore</span><span class="o">/</span><span class="n">cacerts</span><span class="o">/</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">H</span> <span class="n">c_rehash</span> <span class="o">/</span><span class="n">opt</span><span class="o">/</span><span class="n">Citrix</span><span class="o">/</span><span class="n">ICAClient</span><span class="o">/</span><span class="n">keystore</span><span class="o">/</span><span class="n">cacerts</span><span class="o">/</span>
</pre></div>
</div>
<p>Es gibt dazu auch einen Thread im <a class="reference external" href="https://forum.ubuntuusers.de/topic/citrix-receiver-2">ubuntu-users</a> Forum.</p>
<div class="admonition warning">
<p class="admonition-title">Warnung</p>
<p>Es kann im ungünstigen Fall sein, dass man obigen Schritt wiederholen muss,
wenn der FFox aktualisiert wird.</p>
</div>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
  <span id="sidebar-top"></span>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  
    
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/darmarIT_logo_128.png" alt="Logo"/>
            </a></p>
  

  <h3>Contents</h3>
  <ul>
<li><a class="reference internal" href="#">Citrix Workspace App</a><ul>
<li><a class="reference internal" href="#neu-citrix-workspace-app">NEU: Citrix Workspace App</a></li>
<li><a class="reference internal" href="#konfiguration">Konfiguration</a></li>
<li><a class="reference internal" href="#alt-citrix-receiver">ALT: Citrix Receiver</a></li>
</ul>
</li>
</ul>
<h3>Navigation</h3>
<ul>
  <li><a href="../index.html">Overview</a>
    <ul>
          <li>Previous: <a href="../docker/index.html" title="vorheriges Kapitel">Docker</a>
          <li>Next: <a href="../oracle/index.html" title="nächstes Kapitel">Oracle (developer)</a>
    </ul>
  </li>
</ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Schnellsuche</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Los" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script><div id="ethical-ad-placement"></div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019 Markus Heiser.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 5.3.0.
    </div>
  <script src="../_static/version_warning_offset.js"></script>

  </body>
</html>